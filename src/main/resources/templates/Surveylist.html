<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorate="~{layout}">

<head>

  <meta charset="UTF-8">
  <title>Survey List</title>
  <!-- No Bootstrap -->


  <link rel="stylesheet" href="assets/css/bootstrap.min.css">

  <!-- Fontawesome CSS -->
  <link rel="stylesheet" href="assets/plugins/fontawesome/css/fontawesome.min.css">
  <link rel="stylesheet" href="assets/plugins/fontawesome/css/all.min.css">

  <!-- Lineawesome CSS -->
  <link rel="stylesheet" href="assets/css/line-awesome.min.css">
  <link rel="stylesheet" href="assets/css/material.css">


  <!-- Select2 CSS -->
  <link rel="stylesheet" href="assets/css/select2.min.css">

  <!-- Datatable CSS -->
  <link rel="stylesheet" href="assets/css/dataTables.bootstrap4.min.css">

  <!-- Main CSS -->
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

  <!-- Datetimepicker CSS -->
  <link rel="stylesheet" href="assets/css/bootstrap-datetimepicker.min.css">

</head>
<body  layout:fragment="content">

<div th:switch="${users}" style="margin-top: 50px;">
  <div >
    <h2 th:case="null">No Tender yet!</h2>
    <div th:case="*">
      <h2 style="margin-bottom: 30px;">Tender List</h2>
      <table class="table table-striped table-hover">
        <thead class="thead-dark">
        <tr>
          <th scope="col">Report Date</th>
          <th scope="col">Client Name</th>
          <th scope="col">Due Date </th>
          <th scope="col">Tender Value</th>
          <th scope="col">Tender Status</th>
          <th scope="col">Department</th>
          <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="emp: ${users}">
          <td th:text="${emp.searchDate}"></td>
          <td th:text="${emp.clientName}"></td>
          <td th:text="${emp.bidValidity}"></td>
          <td th:text="${emp.tenderValue}"></td>
          <td th:text="${emp.status}"></td>
          <td th:text="${emp.department}"></td>

          <!--                    <td style="padding: 10px; border: 1px solid #ccc;" th:text="${emp.status}"></td>-->
          <!--                    <td style="padding: 10px; border: 1px solid #ccc;" th:text="${emp.Description}"></td>-->
          <td style="padding: 10px; border: 1px solid #ccc;">
            <a th:href="@{'/surveyEntry/' + ${emp.id}}" style="text-decoration: none; color: #007bff; margin-right: 10px;"><button type="submit" style="background-color: transparent; border: none; cursor: pointer; color: #007bff;">Survey</button></a>

          </td>

        </tr>
        </tbody>
      </table>
    </div>
    <!-- Add Tender Button -->
    <div class="text-center mt-4">
      <button type="reset" class="btn btn-secondary h-auto w-auto" th:data-url="${cancelUrl}"
              onclick="navigateToUrl(this)">Cancel</button>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="assets/js/jquery-3.7.1.min.js"></script>

<!-- Bootstrap Core JS -->
<script src="assets/js/bootstrap.bundle.min.js"></script>
<script src="assets/plugins/sweetalert/sweetalert2.all.min.js"></script>
<script src="assets/plugins/sweetalert/sweetalerts.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<!-- Datetimepicker JS -->
<script src="assets/js/moment.min.js"></script>
<script src="assets/js/bootstrap-datetimepicker.min.js"></script>
<script>
  function navigateToUrl(button) {
          const url = button.getAttribute('data-url');
          if (url) {
              window.location.href = url;
          }
      }
</script>
</body>
</html>
