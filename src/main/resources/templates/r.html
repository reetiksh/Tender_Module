<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Maintenance Entry</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        function generateTicket() {
            // Generate a random ticket number (example: using a simple random number for illustration)
            var ticketNumber = Math.floor(Math.random() * 1000000); // Adjust the range as needed

            // Set the generated ticket number to a hidden input field or directly to the form data
            document.getElementById("ticketNo").value = ticketNumber;

            // Optionally, you can log the ticket number or display it in an alert
            alert("Generated ticket number: " + ticketNumber);
        }
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        .center-align {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f8f9fa;
        }
        .container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            font-weight: bold;
        }
        input[type="text"],
        input[type="date" onblur="isValidDateFormat(this.id)"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
        }
        input[type="submit"] {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: #fff;
            cursor: pointer;
        }
        input[type="submit"]:hover {
            background-color: #0056b3;
        }
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
        }
    </style>
</head>
<body>
<div class="center-align">
    <div class="container">
        <h2>Maintenance Entry</h2>
        <form action="#" th:action="@{/Maintadd}" th:object="${user}" method="post">
            <div class="form-group">
                <label for="assetSelect">Asset Name</label>
                <select id="assetSelect" th:field="*{nameOfAsset}">
                    <option th:each="asset : ${assets}" th:value="${asset}" th:text="${asset}">Asset Name</option>
                </select>
            </div>
            <div class="form-group">
                <label for="reportedBy">Reported By</label>
                <input type="text" th:field="*{reportedBy}" id="reportedBy" placeholder="Reported By">
            </div>
            <div class="form-group">
                <label for="publishDate">Reported Date</label>
                <input type="date" onblur="isValidDateFormat(this.id)" th:field="*{publishDate}" id="publishDate">
            </div>
            <div class="form-group">
                <label for="dueDate">Due Date</label>
                <input type="date" onblur="isValidDateFormat(this.id)" th:field="*{dueDate}" id="dueDate">
            </div>
            <div class="form-group">
                <label for="description">Issue Detail</label>
                <input type="text" th:field="*{Description}" id="description" placeholder="Issue Detail">
            </div>
            <div class="form-group">
                <input type="submit" onclick="generateTicket()" value="Submit">
            </div>
            <div class="form-group">
                <input type="hidden" th:field="*{ticketNo}" id="ticketNo">
            </div>
        </form>
    </div>
</div>
</body>
</html>
